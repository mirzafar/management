<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <meta name="robots" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <meta name="format-detection" content="">

    <title>Admin Panel</title>

    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link href="/static/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <link href="/static/css/sweetalert2.min.css" rel="stylesheet">

    <style>
        .main-alert {
            z-index: 100;
            position: fixed;
            left: 40%;
            max-width: 30%;
            display: flex;
            justify-content: center;
            flex-direction: column-reverse;
        }
    </style>

</head>

<body>
<div class="alert main-alert">
    <div style="display: none" id="alert-success"
         class="alert alert-success solid alert-dismissible fade show align-self-center">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
             stroke-linecap="round" stroke-linejoin="round" class="me-2">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
        </svg>
        <strong>Success!</strong> <span></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="btn-close">
        </button>
    </div>
    <div style="display: none" id="alert-info" class="alert alert-info solid alert-dismissible fade show">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
             stroke-linecap="round" stroke-linejoin="round" class="me-2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
        <strong>Info!</strong> <span></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="btn-close">
        </button>
    </div>
    <div style="display: none" id="alert-waring" class="alert alert-warning solid alert-dismissible fade show">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
             stroke-linecap="round" stroke-linejoin="round" class="me-2">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
        <strong>Warning!</strong> <span>Something went wrong. Please check.</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="btn-close">
        </button>
    </div>
    <div style="display: none" id="alert-error" class="alert alert-danger solid alert-dismissible fade show">
        <svg viewBox="0 0 24 24" width="24 " height="24" stroke="currentColor" stroke-width="2" fill="none"
             stroke-linecap="round" stroke-linejoin="round" class="me-2">
            <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
        </svg>
        <strong>Error!</strong> <span>Message sending failed.</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="btn-close">
        </button>
    </div>
</div>
<div id="main-wrapper">
    <div class="nav-header">
        <a href="/api/" class="brand-logo">
            ADMIN
        </a>
        <div class="nav-control">
            <div class="hamburger">
                    <span class="line">
						<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M10.7468 5.58925C11.0722 5.26381 11.0722 4.73617 10.7468 4.41073C10.4213 4.0853 9.89369 4.0853 9.56826 4.41073L4.56826 9.41073C4.25277 9.72622 4.24174 10.2342 4.54322 10.5631L9.12655 15.5631C9.43754 15.9024 9.96468 15.9253 10.3039 15.6143C10.6432 15.3033 10.6661 14.7762 10.3551 14.4369L6.31096 10.0251L10.7468 5.58925Z"
                                  fill="#452B90"></path>
							<path opacity="0.3"
                                  d="M16.5801 5.58924C16.9056 5.26381 16.9056 4.73617 16.5801 4.41073C16.2547 4.0853 15.727 4.0853 15.4016 4.41073L10.4016 9.41073C10.0861 9.72622 10.0751 10.2342 10.3766 10.5631L14.9599 15.5631C15.2709 15.9024 15.798 15.9253 16.1373 15.6143C16.4766 15.3033 16.4995 14.7762 16.1885 14.4369L12.1443 10.0251L16.5801 5.58924Z"
                                  fill="#452B90"></path>
						</svg>
					</span>
            </div>
        </div>
    </div>

    <div class="header">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">
                        <div class="dashboard_bar">
                            {% block namePage %}
                            {% endblock %}
                        </div>
                    </div>
                    <div class="header-right d-flex align-items-center">
                        <ul class="navbar-nav">
                            <li class="nav-item ps-3">
                                <div class="dropdown header-profile2">
                                    <a class="nav-link" href="javascript:void(0);" role="button"
                                       data-bs-toggle="dropdown" aria-expanded="false">
                                        <div class="header-info2 d-flex align-items-center">
                                            <div class="header-media">
                                                <img src="{% if _user and _user.photo and _user.photo != 'None' %}/static/uploads/{{_user.photo}}{% else %}/static/images/noauthor.png{% endif %}"
                                                     alt="">
                                            </div>
                                        </div>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end" style="">
                                        <div class="card border-0 mb-0">
                                            <div class="card-header py-2">
                                                <div class="products">
                                                    <img src="{% if _user and _user.photo and _user.photo != 'None' %}/static/uploads/{{_user.photo}}{% else %}/static/images/noauthor.png{% endif %}"
                                                         class="avatar avatar-md" alt="">
                                                    <div>
                                                        <h6>{% if _user %}{{_user.last_name}} {{_user.first_name}}{%
                                                            endif %}</h6>
                                                        <span>{% if _user %}{{_user.role_title}}{% endif %}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body px-0 py-2">
                                                <a href="/api/users/{{_user.id}}/" class="dropdown-item ai-icon ">
                                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                              d="M11.9848 15.3462C8.11714 15.3462 4.81429 15.931 4.81429 18.2729C4.81429 20.6148 8.09619 21.2205 11.9848 21.2205C15.8524 21.2205 19.1543 20.6348 19.1543 18.2938C19.1543 15.9529 15.8733 15.3462 11.9848 15.3462Z"
                                                              stroke="var(--primary)" stroke-width="1.5"
                                                              stroke-linecap="round" stroke-linejoin="round"></path>
                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                              d="M11.9848 12.0059C14.5229 12.0059 16.58 9.94779 16.58 7.40969C16.58 4.8716 14.5229 2.81445 11.9848 2.81445C9.44667 2.81445 7.38857 4.8716 7.38857 7.40969C7.38 9.93922 9.42381 11.9973 11.9524 12.0059H11.9848Z"
                                                              stroke="var(--primary)" stroke-width="1.42857"
                                                              stroke-linecap="round" stroke-linejoin="round"></path>
                                                    </svg>

                                                    <span class="ms-2">Profile </span>
                                                </a>
                                            </div>
                                            <div class="card-footer px-0 py-2">
                                                <a href="/admin/login/" class="dropdown-item ai-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                                         viewBox="0 0 24 24" fill="none" stroke="var(--primary)"
                                                         stroke-width="2" stroke-linecap="round"
                                                         stroke-linejoin="round">
                                                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                                        <polyline points="16 17 21 12 16 7"></polyline>
                                                        <line x1="21" y1="12" x2="9" y2="12"></line>
                                                    </svg>
                                                    <span class="ms-2">Logout </span>
                                                </a>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <div class="deznav">
        <div class="deznav-scroll">
            <ul class="metismenu" id="menu">
                <li class="mm-active"><a class="has-arrow " href="" aria-expanded="false">
                    <div class="menu-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.13478 20.7733V17.7156C9.13478 16.9351 9.77217 16.3023 10.5584 16.3023H13.4326C13.8102 16.3023 14.1723 16.4512 14.4393 16.7163C14.7063 16.9813 14.8563 17.3408 14.8563 17.7156V20.7733C14.8539 21.0978 14.9821 21.4099 15.2124 21.6402C15.4427 21.8705 15.756 22 16.0829 22H18.0438C18.9596 22.0024 19.8388 21.6428 20.4872 21.0008C21.1356 20.3588 21.5 19.487 21.5 18.5778V9.86686C21.5 9.13246 21.1721 8.43584 20.6046 7.96467L13.934 2.67587C12.7737 1.74856 11.1111 1.7785 9.98539 2.74698L3.46701 7.96467C2.87274 8.42195 2.51755 9.12064 2.5 9.86686V18.5689C2.5 20.4639 4.04738 22 5.95617 22H7.87229C8.55123 22 9.103 21.4562 9.10792 20.7822L9.13478 20.7733Z"
                                  fill="#90959F"></path>
                        </svg>
                    </div>
                    <span class="nav-text">Панель управления</span>
                </a>
                    <ul aria-expanded="false">
                        {% if _user and 'roles' in (_user.permissions or []) %}
                        <li><a href="/api/roles/">Роль</a></li>
                        {% endif %}
                        {% if _user and 'categories' in (_user.permissions or []) %}
                        <li><a href="/api/categories/">Категории</a></li>
                        {% endif %}
                        {% if _user and 'lessons' in (_user.permissions or []) %}
                        <li><a href="/api/lessons/template/">Уроки</a></li>
                        {% endif %}
                        {% if _user and 'users' in (_user.permissions or []) %}
                        <li><a href="/api/users/">Пользователи</a></li>
                        {% endif %}
                        {% if _user and 'my_lessons' in (_user.permissions or []) %}
                        <li><a href="/api/lessons/me/template/">Мои уроки</a></li>
                        {% endif %}
                        {% if _user and 'chats' in (_user.permissions or []) %}
                        <li><a href="/api/chats/template/">Чат</a></li>
                        {% endif %}
                        {% if _user and 'power-bi' in (_user.permissions or []) %}
                        <li><a href="/api/analytics/template/">Power BI</a></li>
                        {% endif %}
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <div class="content-body">
        <div class="container-fluid">
            {% block container %}
            {% endblock %}

        </div>
    </div>


</div>

<script src="/static/js/global.min.js"></script>
<script src="/static/js/sweetalert2.min.js"></script>
<script src="/static/js/sweetalert.init.js"></script>
<script src="/static/js/bootstrap-select.min.js"></script>
<script src="/static/js/custom.js"></script>
<script src="/static/js/deznav-init.js"></script>
<script src="/static/js/demo.js"></script>
<script src="/static/js/manage.js"></script>
<script src="/static/js/uploder.js"></script>

<script src="/static/js/highlight.min.js"></script>
<script>hljs.highlightAll();
hljs.configure({ignoreUnescapedHTML: true})

</script>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre code').forEach((el) => {
            hljs.highlightElement(el);
        });
    });
</script>
<script>
    $('#back_url').on('click', function () {
        window.history.back();
    })

    function alertShow(type, text, is_reload) {
        if (type === 'success') {
            $('#alert-success').css('display', 'block');
            $('#alert-success span').text(text || '')
            setTimeout(function () {
                $('#alert-success').css('display', 'none');
            }, 1500);
        } else if (type === 'error') {
            $('#alert-error').css('display', 'block');
            $('#alert-error span').text(text)
            setTimeout(function () {
                $('#alert-error').css('display', 'none');
            }, 3500);
            return

        } else if (type === 'waring') {
            $('#alert-waring').css('display', 'block');
            if (text) {
                $('#alert-waring span').text(text)
            }
            setTimeout(function () {
                $('#alert-waring').css('display', 'none');
            }, 1500);
            return
        } else if (type === 'info') {
            $('#alert-info').css('display', 'block');
            $('#alert-info span').text(text)
            setTimeout(function () {
                $('#alert-info').css('display', 'none');
            }, 2500);
            return
        }
        if (is_reload && is_reload === true) {
            setTimeout(function () {
                location.reload();
            }, 1000);
        }
    }

    function confirmShow(type, text, mode) {
        if (type === 'danger') {
            if (mode === 'show') {
                $('#confirm-danger').css('display', 'block');
                $('#confirm-danger span').text(text)

            } else {
                $('#confirm-danger').css('display', 'none');
                $('#confirm-danger span').text(text)
            }
        }
    }

</script>

{% block js %}
{% endblock %}

</body>
</html>